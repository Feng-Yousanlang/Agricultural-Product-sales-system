<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首页</title>
    <link rel="stylesheet" href="index.css">
</head>
<body>
<header class="topbar">
    <div class="brand">三农服务平台</div>
    <nav class="nav">
        <a href="#news">新闻</a>
        <a href="#products">金融产品</a>
        <a href="#experts">专家</a>
        <a href="loans">融资服务</a>
    </nav>
    <div class="user">
        <button id="btn-logout" class="btn">退出登录</button>
    </div>
</header>

<main class="container">
    <section id="news" class="card">
        <div class="card-header">
            <h2>新闻轮播</h2>
            <button id="news-refresh" class="btn btn-secondary">刷新</button>
        </div>
        <div class="carousel" id="news-carousel">
            <div class="slides" id="news-slides"></div>
            <div class="dots" id="news-dots"></div>
        </div>
        <div class="msg" id="msg-news"></div>
    </section>

    <section id="products" class="card">
        <div class="card-header">
            <h2>金融产品</h2>
            <button id="products-refresh" class="btn btn-secondary">换一批</button>
        </div>
        <div class="grid" id="products-grid"></div>
        <div class="msg" id="msg-products"></div>
    </section>

    <section id="experts" class="card">
        <div class="card-header">
            <h2>专家列表</h2>
        </div>
        <div class="list" id="experts-list"></div>
        <div class="msg" id="msg-experts"></div>
        <div class="divider"></div>
        <div class="form-inline" style="flex-wrap:wrap;gap:8px;">
            <input type="text" id="expert-search-keyword" placeholder="输入专家姓名">
            <button id="btn-search-experts" class="btn btn-secondary">按姓名搜索</button>
        </div>
        <div class="list" id="experts-search-list"></div>
        <div class="msg" id="msg-experts-search"></div>
        <div class="divider"></div>
        <form id="form-expert-detail" class="form">
            <div class="row">
                <label for="expert-detail-name">专家姓名</label>
                <input type="text" id="expert-detail-name" placeholder="请输入专家姓名" required>
            </div>
            <button type="submit" class="btn btn-secondary">查看专家详情</button>
            <div class="msg" id="msg-expert-detail"></div>
        </form>
        <div class="detail-box" id="expert-detail-box"></div>
    </section>

    <section id="knowledge" class="card">
        <div class="card-header">
            <h2>农业知识库</h2>
            <button id="btn-load-knowledge" class="btn btn-secondary">刷新列表</button>
        </div>
        <div class="form-inline" style="flex-wrap:wrap;">
            <input type="number" id="knowledge-page" placeholder="页码" min="1" value="1">
            <input type="number" id="knowledge-size" placeholder="每页条数" min="1" value="6">
        </div>
        <div class="list" id="knowledge-list"></div>
        <div class="msg" id="msg-knowledge"></div>
        <div class="divider"></div>
        <div class="form-inline" style="flex-wrap:wrap;">
            <input type="text" id="knowledge-keyword" placeholder="关键词（标题）">
            <input type="number" id="knowledge-search-page" placeholder="页码" min="1" value="1">
            <input type="number" id="knowledge-search-size" placeholder="每页条数" min="1" value="6">
            <button id="btn-search-knowledge" class="btn btn-secondary">搜索</button>
        </div>
        <div class="list" id="knowledge-search-list"></div>
        <div class="msg" id="msg-knowledge-search"></div>
    </section>

    <section id="expert-appointment-user" class="card">
        <div class="card-header">
            <h2>专家预约（用户端）</h2>
        </div>
        <div class="two-col">
            <form id="form-appointment-create" class="form">
                <h3>提交预约</h3>
                <div class="row"><label for="appointment-userId">用户ID</label><input type="number" id="appointment-userId" required></div>
                <div class="row"><label for="appointment-expertId">专家ID</label><input type="number" id="appointment-expertId" required></div>
                <div class="row"><label for="appointment-date">日期</label><input type="date" id="appointment-date" required></div>
                <div class="row"><label for="appointment-time">时间段</label><input type="text" id="appointment-time" placeholder="09:00-10:00" required></div>
                <div class="row"><label for="appointment-topic">主题</label><input type="text" id="appointment-topic" required></div>
                <div class="row"><label for="appointment-remark">备注</label><input type="text" id="appointment-remark"></div>
                <button type="submit" class="btn">提交预约</button>
                <div class="msg" id="msg-appointment-create"></div>
            </form>
            <div class="form-stack">
                <div>
                    <h3>我的预约</h3>
                    <div class="form-inline">
                        <input type="number" id="user-appointment-userId" placeholder="用户ID">
                        <button id="btn-load-user-appointments" class="btn btn-secondary">查看</button>
                    </div>
                    <div class="list" id="user-appointments-list"></div>
                    <div class="msg" id="msg-user-appointments"></div>
                </div>
                <form id="form-appointment-cancel" class="form">
                    <h3>取消预约</h3>
                    <div class="row"><label for="cancel-appointment-id">预约ID</label><input type="number" id="cancel-appointment-id" required></div>
                    <button type="submit" class="btn btn-danger">取消预约</button>
                    <div class="msg" id="msg-appointment-cancel"></div>
                </form>
            </div>
        </div>
    </section>

    <section id="expert-appointment-manage" class="card">
        <div class="card-header">
            <h2>专家预约（专家端）</h2>
        </div>
        <div class="grid grid-2">
            <div>
                <h3>待审批预约</h3>
                <div class="form-inline">
                    <input type="number" id="pending-expert-id" placeholder="专家ID(可选)">
                    <button id="btn-load-pending-appointments" class="btn btn-secondary">加载</button>
                </div>
                <div class="list" id="pending-appointments-list"></div>
                <div class="msg" id="msg-pending-appointments"></div>
                <form id="form-appointment-review" class="form">
                    <h3>审批预约</h3>
                    <div class="row"><label for="review-appointment-id">预约ID</label><input type="number" id="review-appointment-id" required></div>
                    <div class="row"><label for="review-expert-id">专家ID</label><input type="number" id="review-expert-id" required></div>
                    <div class="row"><label for="review-action">操作</label>
                        <select id="review-action">
                            <option value="approved">同意</option>
                            <option value="rejected">拒绝</option>
                        </select>
                    </div>
                    <div class="row"><label for="review-comment">备注</label><input type="text" id="review-comment"></div>
                    <button type="submit" class="btn">提交审批</button>
                    <div class="msg" id="msg-appointment-review"></div>
                </form>
            </div>
            <div>
                <h3>我的日程</h3>
                <div class="form-inline">
                    <input type="number" id="schedule-expert-id" placeholder="专家ID">
                    <button id="btn-load-expert-schedule" class="btn btn-secondary">查看</button>
                </div>
                <div class="list" id="expert-schedule-list"></div>
                <div class="msg" id="msg-expert-schedule"></div>
                <div class="divider"></div>
                <form id="form-appointment-update-status" class="form">
                    <h3>更新预约状态</h3>
                    <div class="row"><label for="status-appointment-id">预约ID</label><input type="number" id="status-appointment-id" required></div>
                    <div class="row"><label for="status-expert-id">专家ID</label><input type="number" id="status-expert-id" required></div>
                    <div class="row"><label for="status-value">状态</label>
                        <select id="status-value">
                            <option value="completed">已完成</option>
                            <option value="no_show">未到场</option>
                        </select>
                    </div>
                    <button type="submit" class="btn">更新状态</button>
                    <div class="msg" id="msg-appointment-status"></div>
                </form>
            </div>
        </div>
    </section>

    <!-- 融资服务模块 -->
    <section id="loan" class="card">
        <div class="card-header">
            <h2>贷款产品</h2>
            <button id="loan-products-refresh" class="btn btn-secondary">刷新</button>
        </div>
        <div class="grid" id="loan-products-grid"></div>
        <div class="msg" id="msg-loan-products"></div>
    </section>

    <section id="loan-apply" class="card">
        <div class="card-header">
            <h2>贷款申请</h2>
        </div>
        <form id="form-loan-apply" autocomplete="off" class="form">
            <div class="row">
                <label for="apply-userId">用户ID</label>
                <input type="number" id="apply-userId" required>
            </div>
            <div class="row">
                <label for="apply-productId">产品ID</label>
                <input type="number" id="apply-productId" required>
            </div>
            <div class="row">
                <label for="apply-amount">金额</label>
                <input type="number" id="apply-amount" required>
            </div>
            <div class="row">
                <label for="apply-term">期限(月)</label>
                <input type="number" id="apply-term" required>
            </div>
            <div class="row">
                <label for="apply-document">资质材料（单文件）</label>
                <input type="file" id="apply-document" accept=".pdf,.jpg,.png,.jpeg,.doc,.docx">
            </div>
            <button type="submit" class="btn">提交申请</button>
            <div class="msg" id="msg-loan-apply"></div>
        </form>
    </section>

    <section id="loan-product-manage" class="card">
        <div class="card-header">
            <h2>贷款产品管理</h2>
        </div>
        <div class="grid grid-2">
            <form id="form-create-loan-product" class="form">
                <h3>新增产品</h3>
                <div class="row"><label for="product-name">名称</label><input id="product-name" required></div>
                <div class="row"><label for="product-category">类型</label><input id="product-category" required></div>
                <div class="row"><label for="product-max">最高额度</label><input type="number" id="product-max" required></div>
                <div class="row"><label for="product-min">最低额度</label><input type="number" id="product-min" required></div>
                <div class="row"><label for="product-rate">利率(%)</label><input type="number" step="0.01" id="product-rate" required></div>
                <div class="row"><label for="product-term">期限(月)</label><input type="number" id="product-term" required></div>
                <div class="row"><label for="product-desc">简介</label><textarea id="product-desc" rows="2"></textarea></div>
                <button type="submit" class="btn">创建产品</button>
                <div class="msg" id="msg-create-product"></div>
            </form>
            <div class="form-stack">
                <form id="form-delete-product" class="form">
                    <h3>删除产品</h3>
                    <div class="row"><label for="delete-product-id">产品ID</label><input type="number" id="delete-product-id" required></div>
                    <button type="submit" class="btn btn-danger">删除</button>
                    <div class="msg" id="msg-delete-product"></div>
                </form>
                <form id="form-product-detail" class="form">
                    <h3>产品详情</h3>
                    <div class="row"><label for="detail-product-id">产品ID</label><input type="number" id="detail-product-id" required></div>
                    <button type="submit" class="btn btn-secondary">查询详情</button>
                    <div class="msg" id="msg-product-detail"></div>
                </form>
                <div class="detail-box" id="loan-product-detail"></div>
            </div>
        </div>
    </section>

    <section id="loan-applications" class="card">
        <div class="card-header">
            <h2>我的申请</h2>
            <div style="display:flex;gap:8px;align-items:center;">
                <input type="number" id="query-userId" placeholder="用户ID">
                <input type="text" id="query-status" placeholder="状态(选填)">
                <button id="btn-load-applications" class="btn btn-secondary">查询</button>
            </div>
        </div>
        <div class="list" id="applications-list"></div>
        <div class="msg" id="msg-applications"></div>
    </section>

    <section id="loan-approvals" class="card">
        <div class="card-header">
            <h2>审批中心（演示）</h2>
            <button id="btn-load-pending" class="btn btn-secondary">加载待审批</button>
        </div>
        <div class="list" id="pending-list"></div>
        <div class="divider"></div>
        <form id="form-approve" autocomplete="off" class="form">
            <div class="row">
                <label for="approve-applicationId">申请ID</label>
                <input type="number" id="approve-applicationId" required>
            </div>
            <div class="row">
                <label for="approve-approverId">审批人ID</label>
                <input type="number" id="approve-approverId" required>
            </div>
            <div class="row">
                <label for="approve-decision">决定</label>
                <select id="approve-decision" required>
                    <option value="1">通过</option>
                    <option value="0">拒绝</option>
                </select>
            </div>
            <div class="row">
                <label for="approve-remark">备注</label>
                <input type="text" id="approve-remark">
            </div>
            <button type="submit" class="btn">提交审批</button>
            <div class="msg" id="msg-approve"></div>
        </form>
        <div class="divider"></div>
        <div class="form-inline">
            <input type="number" id="history-applicationId" placeholder="申请ID">
            <button id="btn-load-approval-history" class="btn btn-secondary">查看审批历史</button>
        </div>
        <div class="list" id="approval-history-list"></div>
        <div class="msg" id="msg-approval-history"></div>
    </section>

    <section id="loan-repay" class="card">
        <div class="card-header">
            <h2>还款管理（演示）</h2>
        </div>
        <div class="two-col">
            <div>
                <h3 style="margin:6px 0;">还款计划</h3>
                <div class="form-inline">
                    <input type="number" id="plan-applicationId" placeholder="申请ID">
                    <button id="btn-load-plan" class="btn btn-secondary">查询计划</button>
                </div>
                <div class="list" id="plan-list"></div>
                <div class="msg" id="msg-plan"></div>
                <div class="divider"></div>
                <h3 style="margin:6px 0;">还款历史</h3>
                <div class="form-inline">
                    <input type="number" id="history-userId" placeholder="用户ID">
                    <button id="btn-load-repayments" class="btn btn-secondary">查询历史</button>
                </div>
                <div class="list" id="repayments-list"></div>
                <div class="msg" id="msg-repayments"></div>
            </div>
            <div>
                <h3 style="margin:6px 0;">提交还款</h3>
                <form id="form-repay" autocomplete="off" class="form">
                    <div class="row">
                        <label for="repay-applicationId">申请ID</label>
                        <input type="number" id="repay-applicationId" required>
                    </div>
                    <div class="row">
                        <label for="repay-amount">金额</label>
                        <input type="number" id="repay-amount" required>
                    </div>
                    <div class="row">
                        <label for="repay-date">日期</label>
                        <input type="date" id="repay-date" required>
                    </div>
                    <button type="submit" class="btn">提交</button>
                    <div class="msg" id="msg-repay"></div>
                </form>
            </div>
        </div>
    </section>

    <section id="loan-status" class="card">
        <div class="card-header">
            <h2>贷款状态字典</h2>
            <button id="btn-load-status" class="btn btn-secondary">刷新</button>
        </div>
        <div class="list" id="loan-status-list"></div>
        <div class="msg" id="msg-loan-status"></div>
    </section>
</main>

<script src="index.js"></script>
</body>
</html>

