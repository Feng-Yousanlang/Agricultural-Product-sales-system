<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>贷款服务中心 - 三农服务平台</title>
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<header class="topbar">
    <div class="brand">
        <i class="fa-solid fa-seedling"></i>
        <span>三农服务平台</span>
    </div>
    <nav class="nav">
        <a href="index.html" >首页</a>
        <a href="loans.html" class="current" data-identity="1">融资服务</a>
        <a href="appointment.html" data-identity="1">专家预约</a>
        <a href="buy.html" data-identity="all">农产品商城</a>
        <a href="knowledge.html" data-identity="all">知识库</a>
        <a href="products.html" data-identity="1">农产品管理</a>
        <a href="need.html" data-identity="all">求购平台</a>
        <a href="price.html" data-identity="all">物价预测</a>
    </nav>
    <div class="user">
        <span id="user-id-display" class="user-id"></span>
        <a href="profile.html" class="btn btn-secondary">
            <i class="fa-regular fa-user" style="margin-right: 6px;"></i>个人中心
        </a>
        <button id="btn-logout" class="btn-secondary" style="border:none; color: rgba(255,255,255,0.7);">退出</button>
    </div>
</header>

<main class="container">
    <section id="loan-products" class="card col-span-12">
        <div class="card-header">
            <h2>贷款产品</h2>
            <div class="form-inline" style="gap:8px; display:flex;">
                <button id="loan-products-refresh" class="btn btn-outline">刷新</button>
                <div style="display:inline-flex; gap:4px;">
                    <button id="loan-products-prev" class="btn btn-outline" type="button"><i class="fa-solid fa-chevron-left"></i></button>
                    <span id="loan-products-page-info" class="page-info" style="display:flex; align-items:center; padding:0 8px; font-size:13px; color:#666;">1/1</span>
                    <button id="loan-products-next" class="btn btn-outline" type="button"><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
        <div class="grid" id="loan-products-grid"></div>
        <div class="msg" id="msg-loan-products"></div>
    </section>

    <!-- 申请与记录区域 -->
    <section id="loan-apply" class="card col-span-4">
        <div class="card-header">
            <h2>贷款申请</h2>
        </div>
        <form id="form-loan-apply" autocomplete="off" class="form">
            <div class="form-group">
                <label for="apply-productName" class="form-label">产品名称</label>
                <input type="text" id="apply-productName" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="apply-amount" class="form-label">金额</label>
                <input type="number" id="apply-amount" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="apply-term" class="form-label">期限(月)</label>
                <input type="number" id="apply-term" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="apply-document" class="form-label">资质材料（单文件）</label>
                <input type="file" id="apply-document" accept=".pdf,.jpg,.png,.jpeg,.doc,.docx" class="form-input">
            </div>
            <button type="submit" class="btn" style="margin-top:8px;">提交申请</button>
            <div class="msg" id="msg-loan-apply"></div>
        </form>
    </section>

    <section id="loan-applications" class="card col-span-8">
        <div class="card-header">
            <h2>我的申请记录</h2>
            <button id="btn-load-applications" class="btn btn-secondary" style="color:var(--text-secondary); border-color:var(--border-color);">刷新</button>
        </div>
        <div class="list" id="applications-list"></div>
        <div class="msg" id="msg-applications"></div>
    </section>

    <!-- <section id="loan-repay" class="card col-span-12">
        <div class="card-header">
            <h2>还款管理</h2>
        </div>
        <div class="two-col" style="display:grid; grid-template-columns: 2fr 1fr; gap:32px;">
            <div>
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                    <h3 style="margin:0; font-size:16px;">还款计划</h3>
                    <button id="btn-load-plan" class="btn btn-secondary" style="font-size:12px; padding:4px 8px; color:var(--text-secondary); border-color:var(--border-color);">刷新计划</button>
                </div>
                <div class="list" id="plan-list" style="max-height:300px; overflow-y:auto; border:1px solid #f0f0f0; border-radius:2px; padding:8px;"></div>
                <div class="msg" id="msg-plan"></div>
                
                <div class="divider" style="height:1px; background:#eee; margin:24px 0;"></div>
                
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:12px;">
                    <h3 style="margin:0; font-size:16px;">还款历史</h3>
                    <button id="btn-load-repayments" class="btn btn-outline" style="font-size:12px; padding:4px 8px;">刷新历史</button>
                </div>
                <div class="list" id="repayments-list" style="max-height:300px; overflow-y:auto; border:1px solid #f0f0f0; border-radius:2px; padding:8px;"></div>
                <div class="msg" id="msg-repayments"></div>
            </div>
            
            <div style="background:#f9f9f9; padding:20px; border-radius:2px;">
                <h3 style="margin-top:0; margin-bottom:16px;">提交还款</h3>
                <form id="form-repay" autocomplete="off" class="form" style="display:flex; flex-direction:column; gap:16px;">
                    <div class="row">
                        <label style="display:block; margin-bottom:6px; font-size:13px;">关联申请</label>
                        <span id="repay-application-display" style="display:block; padding:8px; background:#fff; border:1px dashed #ddd; font-size:13px; color:#666;">请先在左侧选择还款计划</span>
                        <input type="hidden" id="repay-applicationId">
                    </div>
                    <div class="row">
                        <label for="repay-amount" style="display:block; margin-bottom:6px; font-size:13px;">还款金额</label>
                        <input type="number" id="repay-amount" step="0.01" min="0.01" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:2px;" required>
                    </div>
                    <div class="row">
                        <label for="repay-date" style="display:block; margin-bottom:6px; font-size:13px;">还款日期</label>
                        <input type="date" id="repay-date" style="width:100%; padding:8px; border:1px solid #ddd; border-radius:2px;" required>
                    </div>
                    <button type="submit" class="btn" style="margin-top:8px;">确认提交</button>
                    <div class="msg" id="msg-repay"></div>
                </form>
            </div>
        </div>
    </section> -->
</main>

<script src="loans.js"></script>
</body>
</html>